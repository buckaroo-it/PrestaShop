{"ast":null,"code":"import { ref, computed, inject } from \"vue\";\nimport { useApi } from \"../lib/api.ts\";\nimport { useToastr } from \"../lib/toastr\";\nimport CountrySelect from \"../components/CountrySelect.vue\";\nimport draggable from 'vuedraggable';\nimport { useCountries } from \"../lib/countries\";\nexport default {\n  name: \"OrderPaymentMethods\",\n  components: {\n    CountrySelect,\n    draggable\n  },\n  watch: {\n    selectedCountry(value, oldValue) {\n      this.getOrdering();\n    },\n    selectedChannel(value) {\n      this.setEndpoint(`/index.php?fc=module&module=buckaroo&controller=api&action=orderings`);\n      this.getOrdering();\n    }\n  },\n  setup() {\n    const selectedChannel = inject('selectedChannel');\n    const paymentOrderings = ref(null);\n    const selectedCountry = ref(null);\n    const {\n      get,\n      post,\n      data,\n      loading,\n      setEndpoint\n    } = useApi(`/index.php?fc=module&module=buckaroo&controller=api&action=orderings`);\n    const {\n      filteredCountries,\n      query\n    } = useCountries();\n    const {\n      toastr\n    } = useToastr();\n    const getOrdering = () => {\n      get().then(() => {\n        if (data.value.status) {\n          paymentOrderings.value = data.value.orderings;\n        }\n      });\n    };\n    getOrdering();\n    const update = () => {\n      post(paymentOrderings.value).then(() => {\n        if (data.value.status) {\n          toastr.success(this.$t('dashboard.pages.order_payment_methods.payment_method_order_updated_successfully'));\n          return;\n        }\n        toastr.error(this.$t('dashboard.pages.order_payment_methods.something_went_wrong'));\n      });\n    };\n    return {\n      loading,\n      paymentOrderings,\n      selectedCountry,\n      update,\n      getOrdering,\n      setEndpoint,\n      selectedChannel,\n      query,\n      filteredCountries\n    };\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}