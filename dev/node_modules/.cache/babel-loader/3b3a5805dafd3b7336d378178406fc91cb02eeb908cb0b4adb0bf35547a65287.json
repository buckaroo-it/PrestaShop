{"ast":null,"code":"import { inject, ref, watch } from \"vue\";\nimport { useApi } from \"../lib/api\";\nexport default {\n  name: \"ChannelSelectorModal\",\n  setup(props, {\n    emit\n  }) {\n    const showModal = ref(false);\n    const app = inject('app');\n    const selectedChannel = inject('selectedChannel');\n    const {\n      post,\n      data\n    } = useApi('app/select-channel');\n    const selectChannel = channel => {\n      selectedChannel.value = channel;\n      showModal.value = false;\n    };\n    watch(app, appValue => {\n      if (!selectedChannel.value && appValue.channels.length > 1) {\n        showModal.value = true;\n      }\n      if (appValue.channels.length === 1) {\n        selectedChannel.value = appValue.channels[0];\n      }\n    });\n    return {\n      app,\n      showModal,\n      selectedChannel,\n      selectChannel\n    };\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}